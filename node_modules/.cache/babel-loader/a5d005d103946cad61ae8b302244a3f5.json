{"ast":null,"code":"import _toConsumableArray from \"/Users/ludvigsellebraten/Desktop/Devs/React_Bootcamp/react-lights-out-starter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/ludvigsellebraten/Desktop/Devs/React_Bootcamp/react-lights-out-starter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/ludvigsellebraten/Desktop/Devs/React_Bootcamp/react-lights-out-starter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/ludvigsellebraten/Desktop/Devs/React_Bootcamp/react-lights-out-starter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/ludvigsellebraten/Desktop/Devs/React_Bootcamp/react-lights-out-starter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/ludvigsellebraten/Desktop/Devs/React_Bootcamp/react-lights-out-starter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/ludvigsellebraten/Desktop/Devs/React_Bootcamp/react-lights-out-starter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/ludvigsellebraten/Desktop/Devs/React_Bootcamp/react-lights-out-starter/src/Board.js\";\nimport React, { Component } from \"react\";\nimport Cell from \"./Cell\";\nimport './Board.css';\n/** Game board of Lights out.\n *\n * Properties:\n *\n * - nRows: number of rows of board\n * - nCols: number of cols of board\n * - chanceLightStartsOn: float, chance any cell is lit at start of game\n *\n * State:\n *\n * - hasWon: boolean, true when board is all off\n * - board: array-of-arrays of true/false\n *\n *    For this board:\n *       .  .  .\n *       O  O  .     (where . is off, and O is on)\n *       .  .  .\n *\n *    This would be: [[f, f, f], [t, t, f], [f, f, f]]\n *\n *  This should render an HTML table of individual <Cell /> components.\n *\n *  This doesn't handle any clicks --- clicks are on individual cells\n *\n **/\n\nvar Board = /*#__PURE__*/function (_Component) {\n  _inherits(Board, _Component);\n\n  function Board(props) {\n    var _this;\n\n    _classCallCheck(this, Board);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Board).call(this, props)); // TODO: set initial state\n\n    _this.state = {\n      hasWon: false,\n      board: _this.createBoard()\n    };\n    _this.makeBoard = _this.makeBoard.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.flipCellsAround = _this.flipCellsAround.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n  /** create a board nRows high/nCols wide, each cell randomly lit or unlit */\n\n\n  _createClass(Board, [{\n    key: \"createBoard\",\n    value: function createBoard() {\n      var board = [];\n      var _this$props = this.props,\n          nRows = _this$props.nRows,\n          nCols = _this$props.nCols; // TODO: create array-of-arrays of true/false values\n\n      for (var r = 0; r < nRows; r++) {\n        var row = [];\n\n        for (var c = 0; c < nCols; c++) {\n          row.push(Math.floor(Math.random() * 2) ? true : false);\n        }\n\n        board.push(row);\n      } // console.log(board);\n\n\n      return board;\n    }\n    /** handle changing a cell: update board & determine if winner */\n\n  }, {\n    key: \"flipCellsAround\",\n    value: function flipCellsAround(coord) {\n      var nCols = coord.nCols,\n          nRows = coord.nRows;\n      var board = this.state.board; // let [y, x] = coord.split(\"-\").map(Number);\n\n      var north = {\n        col: nCols,\n        row: nRows - 1 < 0 ? nRows : nRows - 1\n      };\n      var south = {\n        col: nCols,\n        row: nRows + 1 > 4 ? nRows : nRows + 1\n      };\n      var west = {\n        col: nCols - 1 < 0 ? nCols : nCols - 1,\n        row: nRows\n      };\n      var east = {\n        col: nCols + 1 > 4 ? nCols : nCols + 1,\n        row: nRows\n      };\n\n      function flipper(col, row, props) {\n        if (col >= 0 && col < props.nCols && row >= 0 && row < props.nRows) {\n          board[row][col] = !board[row][col];\n        }\n      } // TODO: flip this cell and the cells around it\n\n\n      north.row !== nRows && flipper(north.col, north.row, this.props);\n      south.row !== nRows && flipper(south.col, south.row, this.props);\n      west.col !== nCols && flipper(west.col, west.row, this.props);\n      east.col !== nCols && flipper(east.col, east.row, this.props);\n      flipper(nCols, nRows, this.props); // win when every cell is turned off\n      // TODO: determine is the game has been won\n\n      function isWinner() {\n        return _toConsumableArray(board).flat().every(function (c) {\n          return !c;\n        });\n      }\n\n      this.setState({\n        board: board,\n        hasWon: isWinner()\n      }); // this.setState({board, hasWon});\n    }\n    /** Render game board or winning message. */\n\n  }, {\n    key: \"makeBoard\",\n    value: function makeBoard() {\n      var _this2 = this;\n\n      var board = this.state.board.map(function (row, ri) {\n        return /*#__PURE__*/React.createElement(\"tr\", {\n          key: \"Row-\".concat(ri),\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 14\n          }\n        }, row.map(function (c, ci) {\n          return /*#__PURE__*/React.createElement(Cell, {\n            key: \"\".concat(ri, \"-\").concat(ci),\n            isLit: _this2.state.board[ri][ci],\n            flipCellsAroundMe: _this2.flipCellsAround,\n            nCols: ci,\n            nRows: ri,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 18\n            }\n          });\n        }));\n      });\n      return board;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var board = /*#__PURE__*/React.createElement(\"table\", {\n        className: \"Board\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(\"tbody\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 5\n        }\n      }, this.state.board.map(function (row, ri) {\n        return /*#__PURE__*/React.createElement(\"tr\", {\n          key: \"Row-\".concat(ri),\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 14\n          }\n        }, row.map(function (c, ci) {\n          return /*#__PURE__*/React.createElement(Cell, {\n            key: \"\".concat(ri, \"-\").concat(ci),\n            isLit: _this3.state.board[ri][ci],\n            flipCellsAroundMe: _this3.flipCellsAround,\n            nCols: ci,\n            nRows: ri,\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 18\n            }\n          });\n        }));\n      }))); // if the game is won, just show a winning msg & render nothing else\n      // TODO\n      // make table board\n      // TODO\n\n      return {\n        board: board\n      };\n    }\n  }]);\n\n  return Board;\n}(Component);\n\nBoard.defaultProps = {\n  nRows: 5,\n  nCols: 5,\n  chanceLightStartsOn: \"float\"\n};\nexport default Board;","map":{"version":3,"sources":["/Users/ludvigsellebraten/Desktop/Devs/React_Bootcamp/react-lights-out-starter/src/Board.js"],"names":["React","Component","Cell","Board","props","state","hasWon","board","createBoard","makeBoard","bind","flipCellsAround","nRows","nCols","r","row","c","push","Math","floor","random","coord","north","col","south","west","east","flipper","isWinner","flat","every","setState","map","ri","ci","defaultProps","chanceLightStartsOn"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\nimport Cell from \"./Cell\";\nimport './Board.css';\n\n/** Game board of Lights out.\n *\n * Properties:\n *\n * - nRows: number of rows of board\n * - nCols: number of cols of board\n * - chanceLightStartsOn: float, chance any cell is lit at start of game\n *\n * State:\n *\n * - hasWon: boolean, true when board is all off\n * - board: array-of-arrays of true/false\n *\n *    For this board:\n *       .  .  .\n *       O  O  .     (where . is off, and O is on)\n *       .  .  .\n *\n *    This would be: [[f, f, f], [t, t, f], [f, f, f]]\n *\n *  This should render an HTML table of individual <Cell /> components.\n *\n *  This doesn't handle any clicks --- clicks are on individual cells\n *\n **/\n\nclass Board extends Component {\n  static defaultProps = {\n    nRows: 5,\n    nCols: 5,\n    chanceLightStartsOn: \"float\"\n  }\n  constructor(props) {\n    super(props);\n    // TODO: set initial state\n    this.state = {\n      hasWon: false,\n      board: this.createBoard()\n    }\n    this.makeBoard = this.makeBoard.bind(this);\n    this.flipCellsAround = this.flipCellsAround.bind(this)\n  }\n\n  /** create a board nRows high/nCols wide, each cell randomly lit or unlit */\n  createBoard() {\n    let board = [];\n    let { nRows, nCols } = this.props\n    // TODO: create array-of-arrays of true/false values\n    for (let r = 0 ; r < nRows ; r++ ){\n      let row = []\n      for (let c = 0 ; c < nCols ; c++ ){\n        row.push(Math.floor(Math.random() * 2) ? true : false)\n      }\n      board.push(row)\n    }\n    // console.log(board);\n    return board\n  }\n\n  /** handle changing a cell: update board & determine if winner */\n  flipCellsAround(coord) { \n    let {nCols, nRows} = coord;\n    let {board} = this.state;\n    // let [y, x] = coord.split(\"-\").map(Number);\n    let north = {\n        col: nCols,\n        row: nRows - 1 < 0 ? nRows : nRows - 1\n    }\n    let south = {\n        col: nCols,\n        row: nRows + 1 > 4 ? nRows : nRows + 1\n    }\n    let west = {\n        col: nCols - 1 < 0 ? nCols : nCols - 1,\n        row: nRows\n    }\n    let east =  {\n        col: nCols + 1 > 4 ? nCols : nCols + 1,\n        row: nRows \n    }\n\n    function flipper(col, row, props){\n      if ((col >= 0 && col < props.nCols) && (row >= 0 && row < props.nRows)){\n        board[row][col] = !board[row][col];\n      }\n    }\n\n    // TODO: flip this cell and the cells around it\n    north.row !== nRows && flipper(north.col, north.row, this.props)\n    south.row !== nRows && flipper(south.col, south.row, this.props)\n    west.col !== nCols && flipper(west.col, west.row, this.props)\n    east.col !== nCols && flipper(east.col, east.row, this.props)\n    flipper(nCols, nRows, this.props)\n\n    // win when every cell is turned off\n    // TODO: determine is the game has been won\n    function isWinner(){\n      return [...board].flat().every(c => !c)\n    }\n\n    this.setState({board, hasWon: isWinner()});\n    // this.setState({board, hasWon});\n  }\n\n\n  /** Render game board or winning message. */\n  makeBoard(){\n    let board = this.state.board.map((row, ri) => {\n      return <tr key={`Row-${ri}`}>\n        {row.map((c, ci) => {\n          return <Cell \n                    key={`${ri}-${ci}`} \n                    isLit={this.state.board[ri][ci]} \n                    flipCellsAroundMe={this.flipCellsAround}\n                    nCols={ci}\n                    nRows={ri}\n                  />\n        })}\n      </tr>\n    })\n    return board\n  }\n\n  render() {\n    let board = \n    <table className=\"Board\">\n    <tbody>\n   { this.state.board.map((row, ri) => {\n      return <tr key={`Row-${ri}`}>\n        {row.map((c, ci) => {\n          return <Cell \n                    key={`${ri}-${ci}`} \n                    isLit={this.state.board[ri][ci]} \n                    flipCellsAroundMe={this.flipCellsAround}\n                    nCols={ci}\n                    nRows={ri}\n                  />\n        })}\n      </tr>\n    })}\n            </tbody>\n      </table>\n\n\n    // if the game is won, just show a winning msg & render nothing else\n\n    // TODO\n\n    // make table board\n    \n    // TODO\n    return (\n      {board}\n    )\n  }\n}\n\n\nexport default Board;\n"]},"metadata":{},"sourceType":"module"}